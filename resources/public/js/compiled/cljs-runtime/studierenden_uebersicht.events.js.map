{"version":3,"sources":["studierenden_uebersicht/events.cljs"],"mappings":";AAOA,yDAAA,zDAACA,yHAEC,WAAAC,SAAkBK;AAAlB,AAAA,IAAAJ,aAAAD;IAAAC,iBAAA,AAAAC,4BAAAD;SAAA,AAAAE,4CAAAF,eAAA,hEAAaG;AAAb,AAAA,kDAAA,+JAAA,iEAAA,2CAAA,uDAAA,mDAAA,gYAAA,2DAAA,OAAA,gQAAA,iEAAA,mFAAA,3pCACgB,iDAAA,wDAAA,zGAACE,8CAAMF,0UAEW,eAAA,2SAAA,zTAAKG,mEAAuB,kDAAA,mFAAA,qDAAA,1LAACC,+CAAOJ,uWAEpC,CAACK,kEAAAA,oEAAAA;;AAIrC,yDAAA,zDAACC,mIAEC,cAAAC,HAAKP;AAAL,AAAA,IAAAQ,aAAAD;QAAA,AAAAE,4CAAAD,WAAA,IAAA,/DAASP;YAAT,AAAAQ,4CAAAD,WAAA,IAAA,nEAAWE;AAAX,oGACMV,/CACA,kDAAA,lDAACW,rDACD,gKAAA,zJAACT,iNAAaQ;;AAGtB,yDAAA,zDAACJ,iIAEC,WAAKN,GAAGC;AAAR,AACE,yDAAA,lDAACU,+CAAOX","names":["re_frame.core.reg_event_fx","p__55147","map__55148","cljs.core/--destructure-map","cljs.core.get","db","_","cljs.core.assoc","vars/base-url","cljs.core.get_in","ajax.core/transit-response-format","re_frame.core.reg_event_db","p__55151","vec__55152","cljs.core.nth","daten","cljs.core.dissoc"],"sourcesContent":["(ns studierenden-uebersicht.events\n  (:require\n    [ajax.core :as ajax]\n    [re-frame.core :as rf]\n    [vars]))\n\n\n(rf/reg-event-fx\n  :kurse/laden\n  (fn [{:keys [db]} _]\n    {:db          (assoc db :laedt true)\n     :http-xhrio  {:method          :get\n                   :uri             (str vars/base-url \"/user/\" (get-in db [:user :id]) \"/kurse\")\n                   :timeout         8000\n                   :response-format (ajax/transit-response-format)\n                   :on-success      [:kurse/angekommen]}}))\n\n\n(rf/reg-event-db\n  :kurse/angekommen\n  (fn [db [_ daten]]\n    (-> db\n        (dissoc :laedt)\n        (assoc :kurse daten))))\n\n\n(rf/reg-event-db\n  :kurse/entfernen\n  (fn [db _]\n    (dissoc db :kurse)))\n"]}