{"version":3,"sources":["reitit/frontend/easy.cljs"],"mappings":"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","names":["js/reitit","js/reitit.frontend","js/reitit.frontend.easy","js/reitit.frontend.easy.history","reitit.frontend.easy/history","cljs.core.atom","reitit.frontend.easy/start!","router","on-navigate","opts","cljs.core.swap_BANG_","reitit.frontend.history/stop!","reitit.frontend.history.start_BANG_","m","this","cljs.core/deref","cljs.core/reset!","var_args","G__55460","reitit.frontend.easy/href","js/Error","name","reitit.frontend.history.href","path-params","query-params","G__55473","reitit.frontend.easy/push-state","reitit.frontend.history.push_state","G__55482","reitit.frontend.easy/replace-state","reitit.frontend.history.replace_state"],"sourcesContent":["(ns reitit.frontend.easy\n  \"Easy wrapper over reitit.frontend.history,\n  handling the state. Only one router can be active\n  at a time.\"\n  (:require [reitit.frontend.history :as rfh]))\n\n(defonce history (atom nil))\n\n;; Doc-strings from reitit.frontend.history remember to update both!\n;; Differences:\n;; This one automatically removes previous event listeners.\n\n(defn ^{:see-also [\"reitit.frontend.history/start!\"]}\n  start!\n  \"This registers event listeners on HTML5 history and hashchange events.\n\n  Automatically removes previous event listeners so it is safe to call this repeatedly, for example when using\n  Figwheel or similar development workflow.\n\n  Parameters:\n  - router         The Reitit router.\n  - on-navigate    Function to be called when route changes. Takes two parameters, \u00b4match\u00b4 and \u00b4history\u00b4 object.\n\n  Options:\n  - :use-fragment  (default true) If true, onhashchange and location hash are used to store current route.\n\n  Options (Html5History):\n  - :ignore-anchor-click?  Function (router, event, anchor element, uri) which will be called to\n                           check if the anchor click event should be ignored.\n                           To extend built-in check, you can call `reitit.frontend.history/ignore-anchor-click?`\n                           function, which will ignore clicks if the href matches route tree.\"\n  [router on-navigate opts]\n  ;; Stop and set to nil.\n  (swap! history rfh/stop!)\n  ; ;; Store the reference to History object in navigate callback, before calling user\n  ; ;; callback, so that user function can call rfe functions.\n  (rfh/start! router (fn rfe-on-navigate [m this]\n                       (when (nil? @history)\n                         (reset! history this))\n                       (on-navigate m this))\n              opts))\n\n(defn\n  ^{:see-also [\"reitit.frontend.history/href\"]}\n  href\n  \"Generate a URL for a route defined by name, with given path-params and query-params.\n\n  The URL is formatted using Reitit frontend history handler, so using it with\n  anchor element href will correctly trigger route change event.\n\n  Note: currently collections in query-parameters are encoded as field-value\n  pairs separated by &, i.e. \\\"?a=1&a=2\\\", if you want to encode them\n  differently, convert the collections to strings first.\"\n  ([name]\n   (rfh/href @history name nil nil))\n  ([name path-params]\n   (rfh/href @history name path-params nil))\n  ([name path-params query-params]\n   (rfh/href @history name path-params query-params)))\n\n(defn\n  ^{:see-also [\"reitit.frontend.history/push-state\"]}\n  push-state\n  \"Updates the browser location and pushes new entry to the history stack using\n  URL built from a route defined by name, with given path-params and\n  query-params.\n\n  Will also trigger on-navigate callback on Reitit frontend History handler.\n\n  Note: currently collections in query parameters are encoded as field-value\n  pairs separated by &, i.e. \\\"?a=1&a=2\\\", if you want to encode them\n  differently, convert the collections to strings first.\n\n  See also:\n  https://developer.mozilla.org/en-US/docs/Web/API/History/pushState\"\n  ([name]\n   (rfh/push-state @history name nil nil))\n  ([name path-params]\n   (rfh/push-state @history name path-params nil))\n  ([name path-params query-params]\n   (rfh/push-state @history name path-params query-params)))\n\n(defn\n  ^{:see-also [\"reitit.frontend.history/replace-state\"]}\n  replace-state\n  \"Updates the browser location and replaces latest entry in the history stack\n  using URL built from a route defined by name, with given path-params and\n  query-params.\n\n  Will also trigger on-navigate callback on Reitit frontend History handler.\n\n  Note: currently collections in query-parameters are encoded as field-value\n  pairs separated by &, i.e. \\\"?a=1&a=2\\\", if you want to encode them\n  differently, convert the collections to strings first.\n\n  See also:\n  https://developer.mozilla.org/en-US/docs/Web/API/History/replaceState\"\n  ([name]\n   (rfh/replace-state @history name nil nil))\n  ([name path-params]\n   (rfh/replace-state @history name path-params nil))\n  ([name path-params query-params]\n   (rfh/replace-state @history name path-params query-params)))\n"]}